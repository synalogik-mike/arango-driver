{
    "collab_server" : "",
    "contents" : "library(jsonlite)\nlibrary(httr)\nlibrary(R6)\n\naRango_connection <- R6Class (\n  \"ArangoConnection\",\n\n  public = list(\n    #' Creates a new connection to a server running ArangoDB\n    #'\n    #' @param host the address on which the Arango instance is running\n    #' @param port the port on the server on which the Arango instance is running\n    #' @param database OPTIONAL, the name of the database to which connect\n    #'\n    initialize = function(host, port, database = NULL, .test_response=NULL) {\n      private$host = host\n      private$port = port\n\n      arangoVersionRequest <- paste0(\"http://\", host, \":\", port, \"/_api/version\")\n\n      # Waiting for version response\n      arangoVersionResponse <- httr::GET(arangoVersionRequest)\n\n      # Check the response and fill properly the internal state. Reject connection if the 200 is not\n      # returned\n      stop_for_status(arangoVersionResponse)\n      arangoVersionBody <- content(arangoVersionResponse)\n\n      if (!is.null(arangoVersionBody$server)) {\n        private$server = arangoVersionBody$server\n      }\n      else{\n        warning(\"Server didn't send the 'server' attribute\")\n      }\n\n      if (!is.null(arangoVersionBody$version)) {\n        private$version = arangoVersionBody$version\n      }\n      else{\n        warning(\"Server didn't send the 'version' attribute\")\n      }\n\n      if (!is.null(arangoVersionBody$license)) {\n        private$license = arangoVersionBody$license\n      }\n      else{\n        warning(\"Server didn't send the 'license' attribute\")\n      }\n\n    },\n\n    #' Returns the server indicated by the instance running on this connection\n    #'\n    #'\n    getServer = function() {\n      return(private$server)\n    },\n\n    #' Returns the version of the server indicated by the instance running on this connection\n    #'\n    #'\n    getVersion = function() {\n      return(private$version)\n    },\n\n    #' Returns the license indicated by the instance running on this connection\n    #'\n    #'\n    getLicense = function() {\n      return(private$license)\n    },\n\n    #' Returns a string in the form of \"http://<localhost>:<port>\" useful to execute new requests\n    #'\n    #'\n    getConnectionString = function() {\n      return(paste0(\"http://\", private$host, \":\", private$port))\n    }\n  ),\n\n  private = list(\n    host = NULL,\n    port = NULL,\n    server = NULL,\n    version = NULL,\n    license = NULL\n  )\n)\n",
    "created" : 1547136249412.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3128005974",
    "id" : "CEA001D0",
    "lastKnownWriteTime" : 1547473435,
    "last_content_update" : 1547473435383,
    "path" : "~/R/aRangodb/R/connection/arango_connection_class.R",
    "project_path" : "R/connection/arango_connection_class.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}